<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diabetes Prediction System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .card {
            border-radius: 15px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        .card-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 15px 15px 0 0 !important;
            padding: 20px;
        }
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
        }
        .form-label {
            font-weight: 500;
        }
        .form-control {
            border-radius: 10px;
        }
        #resultSection {
            display: none;
        }
        .result-card {
            margin-top: 30px;
        }
        .result-header {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 20px;
        }
        .result-value {
            font-size: 2rem;
            font-weight: bold;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        .diabetic {
            background-color: #f8d7da;
            color: #721c24;
        }
        .non-diabetic {
            background-color: #d4edda;
            color: #155724;
        }
        .back-btn {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <!-- Input Form -->
                <div class="card mt-5" id="inputSection">
                    <div class="card-header text-center">
                        <h2>Diabetes Prediction System</h2>
                        <p class="mb-0">Enter patient information to predict diabetes status</p>
                    </div>
                    <div class="card-body p-4">
                        <form id="predictionForm">
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="pregnancies" class="form-label">Number of Pregnancies</label>
                                    <input type="number" class="form-control" id="pregnancies" name="pregnancies" required min="0" step="1">
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="glucose" class="form-label">Glucose Level (mg/dL)</label>
                                    <input type="number" class="form-control" id="glucose" name="glucose" required min="0">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="bloodpressure" class="form-label">Blood Pressure (mm Hg)</label>
                                    <input type="number" class="form-control" id="bloodpressure" name="bloodpressure" required min="0">
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="skinthickness" class="form-label">Skin Thickness (mm)</label>
                                    <input type="number" class="form-control" id="skinthickness" name="skinthickness" required min="0">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="insulin" class="form-label">Insulin Level (μU/ml)</label>
                                    <input type="number" class="form-control" id="insulin" name="insulin" required min="0">
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="bmi" class="form-label">BMI (kg/m²)</label>
                                    <input type="number" class="form-control" id="bmi" name="bmi" required min="0" step="0.1">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="diabetespedigreefunction" class="form-label">Diabetes Pedigree Function</label>
                                    <input type="number" class="form-control" id="diabetespedigreefunction" name="diabetespedigreefunction" required min="0" step="0.001">
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="age" class="form-label">Age (years)</label>
                                    <input type="number" class="form-control" id="age" name="age" required min="0" step="1">
                                </div>
                            </div>
                            <div class="d-grid gap-2 mt-3">
                                <button type="submit" class="btn btn-primary btn-lg">Predict Diabetes Status</button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Results Section -->
                <div class="card mt-5 result-card" id="resultSection">
                    <div class="card-header text-center">
                        <h2>Prediction Result</h2>
                    </div>
                    <div class="card-body p-4 text-center">
                        <div class="result-header">Based on the provided information, the patient is:</div>
                        <div class="result-value" id="predictionResult"></div>
                        
                        <h4 class="mt-4 mb-3">Patient Information</h4>
                        <table class="table table-bordered">
                            <tbody id="patientInfoTable">
                                <!-- Patient info will be inserted here -->
                            </tbody>
                        </table>
                        
                        <div class="d-grid gap-2 back-btn">
                            <button type="button" class="btn btn-secondary btn-lg" id="backButton">Make Another Prediction</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('predictionForm');
            const inputSection = document.getElementById('inputSection');
            const resultSection = document.getElementById('resultSection');
            const predictionResult = document.getElementById('predictionResult');
            const patientInfoTable = document.getElementById('patientInfoTable');
            const backButton = document.getElementById('backButton');
            
            // Handle form submission
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Get form values
                const pregnancies = parseFloat(document.getElementById('pregnancies').value);
                const glucose = parseFloat(document.getElementById('glucose').value);
                const bloodPressure = parseFloat(document.getElementById('bloodpressure').value);
                const skinThickness = parseFloat(document.getElementById('skinthickness').value);
                const insulin = parseFloat(document.getElementById('insulin').value);
                const bmi = parseFloat(document.getElementById('bmi').value);
                const dpf = parseFloat(document.getElementById('diabetespedigreefunction').value);
                const age = parseFloat(document.getElementById('age').value);
                
                // Simple simulation of prediction based on glucose and BMI
                // This is just a simplified rule-based approach for the static demo
                let isDiabetic = false;
                
                // Enhanced rule-based prediction (not accurate, just for demonstration)
                if ((glucose > 125) || 
                    (glucose > 110 && bmi > 28) || 
                    (bmi > 32) || 
                    (age > 45 && bmi > 27) || 
                    (pregnancies > 4) || 
                    (insulin > 150) ||
                    (dpf > 0.6 && bmi > 25)) {
                    isDiabetic = true;
                }
                
                // Display result
                if (isDiabetic) {
                    predictionResult.textContent = "Diabetic";
                    predictionResult.className = "result-value diabetic";
                } else {
                    predictionResult.textContent = "Not Diabetic";
                    predictionResult.className = "result-value non-diabetic";
                }
                
                // Populate patient info table
                const patientInfo = [
                    { label: "Pregnancies", value: pregnancies },
                    { label: "Glucose", value: glucose + " mg/dL" },
                    { label: "Blood Pressure", value: bloodPressure + " mm Hg" },
                    { label: "Skin Thickness", value: skinThickness + " mm" },
                    { label: "Insulin", value: insulin + " μU/ml" },
                    { label: "BMI", value: bmi + " kg/m²" },
                    { label: "Diabetes Pedigree Function", value: dpf },
                    { label: "Age", value: age + " years" }
                ];
                
                let tableHTML = '';
                patientInfo.forEach(item => {
                    tableHTML += `
                        <tr>
                            <th scope="row">${item.label}</th>
                            <td>${item.value}</td>
                        </tr>
                    `;
                });
                patientInfoTable.innerHTML = tableHTML;
                
                // Show result section, hide input section
                inputSection.style.display = 'none';
                resultSection.style.display = 'block';
            });
            
            // Handle back button
            backButton.addEventListener('click', function() {
                inputSection.style.display = 'block';
                resultSection.style.display = 'none';
                form.reset();
            });
        });
    </script>
</body>
</html>